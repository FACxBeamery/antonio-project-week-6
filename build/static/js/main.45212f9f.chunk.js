(this["webpackJsonpantonio-week-6"]=this["webpackJsonpantonio-week-6"]||[]).push([[0],{18:function(e,t,a){e.exports={moon:"Disc_moon__1C644"}},2:function(e,t,a){e.exports={playerForm:"Players_playerForm__3qLg1",playerFormWinner:"Players_playerFormWinner__Soj8d",playerFormLoser:"Players_playerFormLoser__2p3MI",lowOpacity:"Players_lowOpacity__pFr3o",myTurn:"Players_myTurn__2S5M3",notMyTurn:"Players_notMyTurn__uoY5a",heading:"Players_heading__3n90K",ppArea:"Players_ppArea__3Tlm3",formArea:"Players_formArea__2Q-Vw",fieldset:"Players_fieldset__e2xfp",button:"Players_button__1-l-U",button_reset:"Players_button_reset__1E7_X",highlightOff:"Players_highlightOff__14xaV",progressWrapper:"Players_progressWrapper__2ACQS",progress:"Players_progress__1UdQ0",playerStatusIcons:"Players_playerStatusIcons__QxYtA",check:"Players_check__32eqf",win:"Players_win__3Rx9H",wait:"Players_wait__1QWWJ",notFound:"Players_notFound__3nM1U"}},26:function(e,t,a){e.exports=a(38)},31:function(e,t,a){},32:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),o=a.n(c),l=(a(31),a(5)),s=(a(32),a(4)),i={infoStyle:{display:"flex",flex:1,backgroundColor:"white",border:"3px solid"},flex5:{flex:5},boardStyle:{display:"flex",flexDirection:"column",backgroundColor:"#e2e2e2",flexGrow:1,minWidth:"50rem",maxWidth:"60vw",maxHeight:"100vh",marginLeft:"auto",marginRight:"auto"}},u={table:{width:"100%",height:"100%"}},p={cellStyle:{height:"100%",width:"100%",backgroundColor:"#1990ff",opacity:.7,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer",border:"4px solid #222"}},d={whiteDisc:{height:"90%",width:"90%",backgroundColor:"#fff",borderRadius:"50%",transition:"background-color 0.5s"},redDisc:{height:"90%",width:"90%",backgroundColor:"red",borderRadius:"50%",transition:"background-color 0.5s"},yellowDisc:{height:"90%",width:"90%",backgroundColor:"yellow",borderRadius:"50%",transition:"background-color 0.5s"}},m=a(18),f=a.n(m);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var b=function(e){var t=e.value,a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},d),r={0:a.whiteDisc,1:a.redDisc,2:a.yellowDisc};return n.a.createElement("div",{className:f.a.moon,style:r[t]})},h=function(e){var t=e.cells,a=e.playersTurn,r=e.setPlayersTurn,c=e.board,o=e.setBoard,s=(e.setStartGame,e.setWinnerId),i=p.cellStyle,u=function(e){if(!(a<1)){var t=function(e){var t,r=!1;if(c.some((function(a,n){return void 0===(t=a[e]?t:n)?(r=!0,!0):!!a[e]})),!r){var n=c;return n[t][e]=a,o(n),[t,e]}return!1}(e);if(t)(function(e,t){var a=Object(l.a)(t,2),r=a[0],n=a[1],c=e[r][n];return[[[r,n],[r,n+1],[r,n+2],[r,n+3]],[[r,n-1],[r,n],[r,n+1],[r,n+2]],[[r,n-2],[r,n-1],[r,n],[r,n+1]],[[r,n-3],[r,n+2],[r,n-1],[r,n]],[[r,n],[r+1,n],[r+2,n],[r+3,n]],[[r,n],[r-1,n-1],[r-2,n-2],[r-3,n-3]],[[r+1,n+1],[r,n],[r-1,n-1],[r-2,n-2]],[[r+2,n+2],[r+1,n+1],[r,n],[r-1,n-1]],[[r+3,n+3],[r+2,n+2],[r+1,n+1],[r,n]],[[r,n],[r+1,n-1],[r+2,n-2],[r+3,n-3]],[[r-1,n+1],[r,n],[r+1,n-1],[r+2,n-2]],[[r-2,n+2],[r-1,n+1],[r,n],[r+1,n-1]],[[r-3,n+3],[r-2,n+2],[r-1,n+1],[r,n]]].some((function(t){var a=!0;return t.forEach((function(t){var r=Object(l.a)(t,2),n=r[0],o=r[1];try{e[n][o]!==c&&(a=!1)}catch(s){a=!1}})),a}))})(c,t)?(console.log("Player ".concat(a," wins!")),r(-1),s(a)):r(1===a?2:1)}},d=t.map((function(e,t){return n.a.createElement("td",{key:t,onClick:function(){return u(t)}},n.a.createElement("div",{style:i},n.a.createElement(b,{value:e})))}));return n.a.createElement("tr",null,d)},g=function(e){var t=e.rows,a=e.columns,r=e.board,c=e.setBoard,o=e.setStartGame,l=e.playersTurn,s=e.setPlayersTurn,i=e.setWinnerId;n.a.useEffect((function(){c(function e(t){for(var a=1===t.length,r=[],n=0;n<t[0];++n)r.push(a?0:e(t.slice(1)));return r}([t,a]))}),[a,t,c]);var p=u.table;return r?n.a.createElement("table",{style:p},n.a.createElement("thead",null),n.a.createElement("tbody",null,r.map((function(e,t){return n.a.createElement(h,{key:t,cells:e,playersTurn:l,setPlayersTurn:s,board:r,setBoard:c,setStartGame:o,setWinnerId:i})})))):n.a.createElement("p",null,"loading...")};var _=function(e){this.pId=e,this.githubUser="",this.score=0,this.turnFinished=!1},E=function(e){if(200===e.status)return e.json();console.log("Error with the request! ".concat(e.status))},O=a(15),v=a.n(O),w=a(23),P=a.n(w),j=a(24),S=a.n(j),k=a(19),T=a.n(k),I=a(21),D=a.n(I),x=a(22),W=a.n(x),G=a(49),N=a(2),C=a.n(N);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var A=function(e){var t=e.pId,a=(e.index,e.players),r=e.setPlayers,c=e.myTurn,o=e.setStartGame,l=e.winnerId,i=e.setWinnerId,u="p".concat(t),p=a[u],d=document.getElementById("".concat(u,"_button")),m=document.getElementById("".concat(u,"_user")),f=document.getElementById("".concat(u,"_progress"));d&&(""===p.githubUser?d.disabled=!0:d.disabled=!1,d.disabled?d.style.cursor="default":d.style.cursor="pointer");var y=function(){"none"!==d.style.display?d.style.display="none":d.style.display="inline",!0!==m.disabled?m.disabled=!0:m.disabled=!1,f.classList.contains(C.a.progressWrapper)?f.classList.remove(C.a.progressWrapper):f.classList.add(C.a.progressWrapper)},b=function(e){e.preventDefault(),y();var t,n=document.getElementById("".concat(u,"_user")).value;if(n===a[{p1:"p2",p2:"p1"}[u]].githubUser)return r(U({},a,Object(s.a)({},u,U({},p,{confirmed:!1,sameUser:!0})))),void y();(t=n,fetch("https://api.github.com/users/".concat(t,"?access_token=").concat("0494bef602bb7b4c18637d695d3c3a4ea93b6fcd")).then(E).catch((function(e){throw new Error("fetch getUserData failed ".concat(e))}))).then((function(e){e?r(U({},a,Object(s.a)({},u,U({},p,{uId:e.id,avatar_url:e.avatar_url,name:e.name,confirmed:!0})))):y(),e||r(U({},a,Object(s.a)({},u,U({},p,{confirmed:!1}))))}))},h=n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{id:"".concat(u,"_button"),className:C.a.button,type:"click",onClick:""===p.githubUser?null:b,disabled:!(!d||!d.disabled)},n.a.createElement(T.a,null)),n.a.createElement("span",{id:"".concat(u,"_progress"),className:C.a.progressWrapper},n.a.createElement(G.a,{className:C.a.progress}))),g=n.a.createElement("button",{id:"p".concat(t,"_button"),className:"".concat(C.a.button," ").concat(C.a.button_reset),type:"click",onClick:function(){r(U({},a,Object(s.a)({},u,new _(t)))),m.disabled=!1,d.disabled=!1}},n.a.createElement("span",{className:C.a.highlightOff},n.a.createElement(D.a,null))),O=n.a.createElement("button",{id:"p".concat(t,"_button"),className:"".concat(C.a.button," ").concat(C.a.button_reset),type:"click",onClick:function(){l&&(o(!1),i(0))}},n.a.createElement("span",{className:C.a.highlightOff},n.a.createElement(W.a,null))),w=n.a.createElement("span",{className:"".concat(C.a.playerStatusIcons," ").concat(C.a.check)},n.a.createElement(v.a,null)),j=n.a.createElement("span",{className:"".concat(C.a.playerStatusIcons," ").concat(C.a.win)},n.a.createElement(v.a,null)),k=n.a.createElement("span",{className:"".concat(C.a.playerStatusIcons," ").concat(C.a.wait)},n.a.createElement(P.a,null)),I=n.a.createElement("span",{className:"".concat(C.a.playerStatusIcons," ").concat(C.a.notFound)},n.a.createElement(S.a,null)),x=n.a.createElement("h3",null,"Waiting for player..."),N=n.a.createElement(n.a.Fragment,null,p.sameUser?n.a.createElement("h3",null,"User already added"):n.a.createElement("h3",null,"Could not find player..."),n.a.createElement("p",null,"Try again")),F=n.a.createElement("img",{alt:"Player ".concat(t,"'s GitHub profile"),src:p.avatar_url}),A=!1===p.confirmed,B=void 0===p.confirmed,L=l?l===t?C.a.playerFormWinner:C.a.playerFormLoser:"";return n.a.createElement("div",{className:"".concat(C.a.playerForm," ").concat(void 0===c||l?"":c?C.a.myTurn:C.a.notMyTurn,"\n\t\t\t").concat(L," \n\t\t\t")},n.a.createElement("div",{className:"".concat(C.a.ppArea," \n\t\t\t\t").concat(!1!==c||l?"":C.a.lowOpacity)},p.avatar_url?F:A?N:x),n.a.createElement("div",{className:C.a.formArea},n.a.createElement("div",{className:C.a.heading},n.a.createElement("h3",null,"Player ",t),p.confirmed&&!l?w:B?k:l?j:I),n.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},n.a.createElement("fieldset",{id:"p".concat(t,"_fieldset"),className:C.a.fieldset},n.a.createElement("input",{id:"p".concat(t,"_user"),value:p.githubUser,onSubmit:b,onChange:function(e){r(U({},a,Object(s.a)({},u,U({},p,{githubUser:e.target.value}))))},placeholder:"Enter GitHub Username"}),l?O:p.confirmed?g:h))))},B=function(e){var t=e.readyToStartGame,a=e.startGame,r=e.setStartGame,c=e.players,o=(e.setPlayers,e.playersTurn),s=e.setPlayersTurn,i=e.setWinnerId,u=n.a.useState(6),p=Object(l.a)(u,1)[0],d=n.a.useState(7),m=Object(l.a)(d,1)[0],f=n.a.useState(),y=Object(l.a)(f,2),b=y[0],h=y[1];n.a.useEffect((function(){r(!1),s(0)}),[c.p1.confirmed,c.p2.confirmed,r,s]),n.a.useEffect((function(){console.log(a),a&&o<1&&s(Math.floor(2*Math.random())+1)}),[a,o,s]);var _=n.a.createElement("h1",null,"Select your players"),E=n.a.createElement(g,{rows:p,columns:m,board:b,setBoard:h,setStartGame:r,playersTurn:o,setPlayersTurn:s,setWinnerId:i}),O=n.a.createElement("button",{id:"readyToStartGame",type:"click",onClick:function(e){r(!0)}},"Start Game!!");return console.log("its player ".concat(o,"'s turn")),t?a?E:O:_};function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var R=[1,2],M=function(e){var t=e.readyToStartGame,a=e.setReadyToStartGame,r=e.apod,c=e.setApod,o=n.a.useState(),u=Object(l.a)(o,2),p=u[0],d=u[1],m=n.a.useState(0),f=Object(l.a)(m,2),y=f[0],b=f[1],h=n.a.useState(!1),g=Object(l.a)(h,2),O=g[0],v=g[1],w=n.a.useState(0),P=Object(l.a)(w,2),j=P[0],S=P[1];n.a.useEffect((function(){fetch("https://api.nasa.gov/planetary/apod?api_key=VyRVUHwUJahspTDZZEfzIzJRl29my4BkniQ5n8CO").then(E).catch((function(e){throw new Error("fetch getNasaAPOD failed ".concat(e))})).then((function(e){c(function(e){var t=e.url;return{backgroundImage:"url(".concat(t,")")}}(e))}));var e={};R.map((function(t){return e["p".concat(t)]=new _(t)})),d(e)}),[c]),n.a.useEffect((function(){p&&a(!(!p.p1.confirmed||!p.p2.confirmed))}));var k=i.infoStyle,T=i.flex5,I=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i.boardStyle,{},r),D=R.map((function(e,t){return n.a.createElement(A,{key:t,index:t,pId:e,players:p,setPlayers:d,myTurn:0===y?void 0:e===y,setStartGame:v,winnerId:j,setWinnerId:S})})),x=n.a.createElement("div",{style:I},n.a.createElement("div",{style:k},D),n.a.createElement("div",{style:T},n.a.createElement(B,{readyToStartGame:t,startGame:O,setStartGame:v,players:p,setPlayers:d,playersTurn:y,setPlayersTurn:b,setWinnerId:S})));return r&&p?x:n.a.createElement("h3",null,"...Loading")};var Q=function(){var e=n.a.useState(),t=Object(l.a)(e,2),a=t[0],r=t[1],c=n.a.useState(!1),o=Object(l.a)(c,2),s=o[0],i=o[1];return n.a.createElement("div",{className:"App"},n.a.createElement(M,{apod:a,setApod:r,readyToStartGame:s,setReadyToStartGame:i}))};o.a.render(n.a.createElement(Q,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.45212f9f.chunk.js.map